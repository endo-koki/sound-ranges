(this["webpackJsonpsound-ranges"]=this["webpackJsonpsound-ranges"]||[]).push([[0],{13:function(e,n,t){e.exports={row:"Instruments_row__1_7Q1",rowText:"Instruments_rowText__2WJDN",list:"Instruments_list__3TCx2"}},22:function(e,n,t){},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var o=t(2),a=t.n(o),r=t(12),c=t.n(r),i=(t(22),t(11)),s=function(){return Object(i.b)()},l=i.c,u=t(9),h=t(1),m={instruments:[{name:"Piano",pitchRange:[21,108],color:"blue"},{name:"Harp",pitchRange:[23,103],color:"dodgerblue"},{name:"Violin",pitchRange:[55,96],color:"palevioletred"},{name:"Viola",pitchRange:[48,84],color:"crimson"},{name:"Cello",pitchRange:[36,72],color:"brown"},{name:"Bass",pitchRange:[28,55],color:"maroon"},{name:"Trumpet",pitchRange:[58,94],color:"yellow"},{name:"Horn",pitchRange:[41,77],color:"orange"},{name:"Trombone",pitchRange:[34,75],color:"gold"},{name:"Tuba",pitchRange:[29,55],color:"goldenrod"},{name:"Piccolo",pitchRange:[74,108],color:"aquamarine"},{name:"Flute",pitchRange:[60,96],color:"palegreen"},{name:"Oboe",pitchRange:[58,91],color:"limegreen"},{name:"Clarinet",pitchRange:[50,91],color:"forestgreen"},{name:"Timpani",pitchRange:[36,57],color:"beige"},{name:"Chorus",pitchRange:[48,79],color:"purple"},{name:"Celesta",pitchRange:[60,108],color:"sienna"},{name:"Glockenspiel",pitchRange:[72,108],color:"lightgray"},{name:"Vibraphone",pitchRange:[53,89],color:"whitesmoke"},{name:"Marimba",pitchRange:[48,84],color:"darkred"},{name:"Organ",pitchRange:[36,96],color:"chocolate"},{name:"Accordion",pitchRange:[53,89],color:"red"},{name:"Harmonica",pitchRange:[60,84],color:"wheat"},{name:"Guitar",pitchRange:[40,84],color:"darkorange"},{name:"Bass Guitar",pitchRange:[28,55],color:"gray"}].map((function(e){return Object(h.a)(Object(h.a)({},e),{},{selected:!0})}))},g=Object(u.b)({name:"selectedInstruments",initialState:m,reducers:{toggle:function(e,n){for(var t=0;t<e.instruments.length;t++){var o=e.instruments[t];if(o.name===n.payload){e.instruments[t].selected=!o.selected;break}}}}}),d=g.actions.toggle,p=function(e){return e.activeInstruments.instruments},f=g.reducer,j=t(13),b=t.n(j),v=t(4);function x(e){var n=s();return Object(v.jsxs)("div",{className:b.a.row,children:[Object(v.jsx)("input",{type:"checkbox",checked:e.selected,onChange:function(){return n(d(e.name))}}),Object(v.jsx)("span",{className:b.a.rowText,children:e.name})]})}function O(){var e=l(p).map((function(e){return Object(v.jsx)(x,{name:e.name,selected:e.selected},e.name)}));return Object(v.jsx)("div",{className:b.a.list,children:e})}var R=Object(u.b)({name:"selectedNotes",initialState:{notes:[]},reducers:{add:function(e,n){e.notes.push(n.payload)},remove:function(e,n){e.notes=e.notes.filter((function(e){return e!==n.payload}))},clear:function(e){e.notes=[]}}}),w=R.actions,y=w.add,k=(w.remove,w.clear),N=function(e){return e.activeNotes.notes},_=R.reducer,C=12,M=Object(u.a)({reducer:{activeInstruments:f,activeNotes:_}}),T=(new(t(17).a)).toDestination();function D(e){var n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][e%12],t=Math.floor(e/12)-1;return n+String(t)}function S(e){var n=D(e);T.triggerAttackRelease(n,"4n")}var B=t(8),I=t.n(B);function A(e){var n,t,o=s(),a=e.noteNum*C;return[1,3,6,8,10].includes(e.noteNum%12)?(n=e.selected?"#37557c":"#232323",t="white"):(n=e.selected?"#7097ca":"#d9d9da",t="black"),Object(v.jsxs)("g",{onMouseDown:function(n){return function(n){n.shiftKey||o(k()),o(y(e.noteNum)),S(e.noteNum),n.stopPropagation()}(n)},onMouseEnter:function(n){return function(n){1===n.buttons&&(o(y(e.noteNum)),S(e.noteNum))}(n)},children:[Object(v.jsx)("rect",{x:a,y:"0",width:C,height:"50",fill:n,stroke:"black"}),e.noteNum%12===0&&Object(v.jsx)("text",{x:a,y:"40",fill:t,fontSize:8.399999999999999,children:D(e.noteNum)})]})}function E(){for(var e=l(N),n=[],t=0;t<128;t++){var o=e.includes(t);n.push(Object(v.jsx)(A,{noteNum:t,selected:o},String(t)))}var a="0 0 ".concat(1536," ").concat(50);return Object(v.jsx)("div",{className:I.a.keyboard,children:Object(v.jsx)("svg",{width:1536,height:50,viewBox:a,xmlns:"http://www.w3.org/2000/svg",children:n})})}var G=t(3);function W(e){var n=e.pitchRange.map((function(e){return D(e)})).join("\u2013"),t=e.pitchRange[0]*C,o=100+40*e.y,a=(e.pitchRange[1]-e.pitchRange[0]+1)*C;return Object(v.jsxs)("g",{children:[Object(v.jsx)("line",{x1:t,y1:"50",x2:t,y2:o,stroke:e.color,strokeDasharray:"4"}),Object(v.jsx)("line",{x1:t+a,y1:"50",x2:t+a,y2:o,stroke:e.color,strokeDasharray:"4"}),Object(v.jsx)("rect",{x:t,y:o,width:a,height:"30",fill:e.color,fillOpacity:"0.4",stroke:e.color,strokeOpacity:"1.0"}),Object(v.jsxs)("text",{x:t+a/2,y:o+23,textAnchor:"middle",fontSize:"20",fill:"white",children:[e.name,": ",n]})]})}function z(){var e,n=l(p),t=l(N);if(0===t.length)e=n.filter((function(e){return e.selected}));else{var o=[Math.min.apply(Math,Object(G.a)(t)),Math.max.apply(Math,Object(G.a)(t))];e=n.filter((function(e){return e.selected&&function(e,n){return n[0]<=e[0]&&e[1]<=n[1]}(o,e.pitchRange)}))}for(var a=function(e){for(var n=[],t=function(t){for(var o=e[t],a=0;a<n.length+1;a++){if(a===n.length){n.push([o]);break}if(!n[a].some((function(e){return n=o.pitchRange,t=e.pitchRange,n[0]<=t[1]&&t[0]<=n[1];var n,t}))){n[a].push(o);break}}},o=0;o<e.length;o++)t(o);return n}(e),r=[],c=function(e){a[e].forEach((function(n){r.unshift(Object(v.jsx)(W,{name:n.name,pitchRange:n.pitchRange,color:n.color,y:e},n.name))}))},i=0;i<a.length;i++)c(i);var s="0 0 ".concat(1536," ").concat(1e3);return Object(v.jsx)("div",{className:I.a.rangeCanvas,children:Object(v.jsx)("svg",{width:1536,height:1e3,viewBox:s,xmlns:"http://www.w3.org/2000/svg",children:r})})}function F(){var e=s(),n=Object(o.useRef)(null);return Object(o.useEffect)((function(){var e;null===(e=n.current)||void 0===e||e.scrollTo(150,0)})),Object(v.jsxs)("div",{className:I.a.svgCanvas,ref:n,onMouseDown:function(){return e(k())},children:[Object(v.jsx)(E,{}),Object(v.jsx)(z,{})]})}t(37);var H=function(){return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(O,{}),Object(v.jsx)(F,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(i.a,{store:M,children:Object(v.jsx)(H,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,n,t){e.exports={svgCanvas:"pianoRoll_svgCanvas__1N87W",keyboard:"pianoRoll_keyboard__3zgSl",rangeCanvas:"pianoRoll_rangeCanvas__1pU13"}}},[[38,1,2]]]);
//# sourceMappingURL=main.438f2e36.chunk.js.map