(this["webpackJsonpsound-ranges"]=this["webpackJsonpsound-ranges"]||[]).push([[0],{12:function(e,n,t){e.exports={svgCanvas:"pianoRoll_svgCanvas__1N87W",keyboard:"pianoRoll_keyboard__3zgSl",rangeCanvas:"pianoRoll_rangeCanvas__1pU13"}},13:function(e,n,t){e.exports={row:"Instruments_row__1_7Q1",rowText:"Instruments_rowText__2WJDN",list:"Instruments_list__3TCx2"}},22:function(e,n,t){},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var o=t(2),r=t.n(o),c=t(11),a=t.n(c),i=(t(22),t(10)),s=function(){return Object(i.b)()},l=i.c,u=t(8),h=t(1),m={instruments:[{name:"Piano",pitchRange:[21,108],color:"blue"},{name:"Harp",pitchRange:[23,103],color:"dodgerblue"},{name:"Violin",pitchRange:[55,96],color:"palevioletred"},{name:"Viola",pitchRange:[48,84],color:"crimson"},{name:"Cello",pitchRange:[36,72],color:"brown"},{name:"Bass",pitchRange:[28,55],color:"maroon"},{name:"Trumpet",pitchRange:[58,94],color:"yellow"},{name:"Horn",pitchRange:[41,77],color:"orange"},{name:"Trombone",pitchRange:[34,75],color:"gold"},{name:"Tuba",pitchRange:[29,55],color:"goldenrod"},{name:"Piccolo",pitchRange:[74,108],color:"aquamarine"},{name:"Flute",pitchRange:[60,96],color:"palegreen"},{name:"Oboe",pitchRange:[58,91],color:"limegreen"},{name:"Clarinet",pitchRange:[50,91],color:"forestgreen"},{name:"Timpani",pitchRange:[36,57],color:"beige"},{name:"Chorus",pitchRange:[48,79],color:"purple"}].map((function(e){return Object(h.a)(Object(h.a)({},e),{},{selected:!0})}))},d=Object(u.b)({name:"selectedInstruments",initialState:m,reducers:{toggle:function(e,n){for(var t=0;t<e.instruments.length;t++){var o=e.instruments[t];if(o.name===n.payload){e.instruments[t].selected=!o.selected;break}}}}}),g=d.actions.toggle,p=function(e){return e.activeInstruments.instruments},f=d.reducer,j=t(13),b=t.n(j),v=t(4);function x(e){var n=s();return Object(v.jsxs)("div",{className:b.a.row,children:[Object(v.jsx)("input",{type:"checkbox",checked:e.selected,onChange:function(){return n(g(e.name))}}),Object(v.jsx)("span",{className:b.a.rowText,children:e.name})]})}function O(){var e=l(p).map((function(e){return Object(v.jsx)(x,{name:e.name,selected:e.selected},e.name)}));return Object(v.jsx)("div",{className:b.a.list,children:e})}var w=Object(u.b)({name:"selectedNotes",initialState:{notes:[]},reducers:{add:function(e,n){e.notes.push(n.payload)},remove:function(e,n){e.notes=e.notes.filter((function(e){return e!==n.payload}))},clear:function(e){e.notes=[]}}}),R=w.actions,y=R.add,k=(R.remove,R.clear),N=function(e){return e.activeNotes.notes},_=w.reducer,C=12,M=Object(u.a)({reducer:{activeInstruments:f,activeNotes:_}}),D=(new(t(17).a)).toDestination();function S(e){var n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][e%12],t=Math.floor(e/12)-1;return n+String(t)}function T(e){var n=S(e);D.triggerAttackRelease(n,"4n")}var I=t(12),B=t.n(I);function A(e){var n,t,o=s(),r=e.noteNum*C;return[1,3,6,8,10].includes(e.noteNum%12)?(n=e.selected?"#37557c":"#232323",t="white"):(n=e.selected?"#7097ca":"#d9d9da",t="black"),Object(v.jsxs)("g",{onMouseDown:function(n){return function(n){n.shiftKey||o(k()),o(y(e.noteNum)),T(e.noteNum),n.stopPropagation()}(n)},onMouseEnter:function(n){return function(n){1===n.buttons&&(o(y(e.noteNum)),T(e.noteNum))}(n)},children:[Object(v.jsx)("rect",{x:r,y:"0",width:C,height:"50",fill:n,stroke:"black"}),e.noteNum%12===0&&Object(v.jsx)("text",{x:r,y:"40",fill:t,fontSize:8.399999999999999,children:S(e.noteNum)})]})}function E(){for(var e=l(N),n=[],t=0;t<128;t++){var o=e.includes(t);n.push(Object(v.jsx)(A,{noteNum:t,selected:o},String(t)))}var r="0 0 ".concat(1536," ").concat(50);return Object(v.jsx)("div",{className:B.a.keyboard,children:Object(v.jsx)("svg",{width:1536,height:50,viewBox:r,xmlns:"http://www.w3.org/2000/svg",children:n})})}var W=t(3);function z(e){var n=e.pitchRange.map((function(e){return S(e)})).join("\u2013"),t=e.pitchRange[0]*C,o=100+40*e.y,r=(e.pitchRange[1]-e.pitchRange[0]+1)*C;return Object(v.jsxs)("g",{children:[Object(v.jsx)("line",{x1:t,y1:"50",x2:t,y2:o,stroke:e.color,strokeDasharray:"4"}),Object(v.jsx)("line",{x1:t+r,y1:"50",x2:t+r,y2:o,stroke:e.color,strokeDasharray:"4"}),Object(v.jsx)("rect",{x:t,y:o,width:r,height:"30",fill:e.color,fillOpacity:"0.4",stroke:e.color,strokeOpacity:"1.0"}),Object(v.jsxs)("text",{x:t+r/2,y:o+23,textAnchor:"middle",fontSize:"20",fill:"white",children:[e.name,": ",n]})]})}function F(){var e,n=l(p),t=l(N);if(0===t.length)e=n.filter((function(e){return e.selected}));else{var o=[Math.min.apply(Math,Object(W.a)(t)),Math.max.apply(Math,Object(W.a)(t))];e=n.filter((function(e){return e.selected&&function(e,n){return n[0]<=e[0]&&e[1]<=n[1]}(o,e.pitchRange)}))}for(var r=function(e){for(var n=[],t=function(t){for(var o=e[t],r=0;r<n.length+1;r++){if(r===n.length){n.push([o]);break}if(!n[r].some((function(e){return n=o.pitchRange,t=e.pitchRange,n[0]<=t[1]&&t[0]<=n[1];var n,t}))){n[r].push(o);break}}},o=0;o<e.length;o++)t(o);return n}(e),c=[],a=function(e){r[e].forEach((function(n){c.unshift(Object(v.jsx)(z,{name:n.name,pitchRange:n.pitchRange,color:n.color,y:e},n.name))}))},i=0;i<r.length;i++)a(i);var s=window.innerHeight-60,u="0 0 ".concat(1536," ").concat(s);return Object(v.jsx)("div",{children:Object(v.jsx)("svg",{width:1536,height:s,viewBox:u,xmlns:"http://www.w3.org/2000/svg",children:c})})}function H(){var e=s();return Object(v.jsxs)("div",{className:B.a.svgCanvas,onMouseDown:function(){return e(k())},children:[Object(v.jsx)(E,{}),Object(v.jsx)(F,{})]})}t(37);var J=function(){return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(O,{}),Object(v.jsx)(H,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(i.a,{store:M,children:Object(v.jsx)(J,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.cfa32f84.chunk.js.map